<!--
    <mat-card class="card">
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <mat-card-title>{{signupTitle}}</mat-card-title>
    <mat-card>
        <form *ngIf="!isLoading">
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>E-Mail</mat-label>
                    <input matInput type="email" [formControl]="emailFormControl" required>
                    <mat-error *ngIf="emailFormControl.hasError('email')">
                        Please enter a valid email address!
                    </mat-error>
                    <mat-error *ngIf="emailFormControl.hasError('required')">
                        Email is required!
                    </mat-error>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Username</mat-label>
                    <input matInput required name="username" #username="ngModel" ngModel>
                    INCOMPLETE
                </mat-form-field>
            </div>
            toggle triggers twice => hide2 variable
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Password</mat-label>
                    <input matInput [type]="hide ? 'password' : 'text'" [formControl]="passwordFormControl" minlength="8" #pass required>
                    <button mat-icon-button type="button" matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <mat-error *ngIf="passwordFormControl.hasError('required')">
                        Password is required!
                    </mat-error>
                    <mat-error *ngIf="passwordFormControl.hasError('minlength')">
                        Password must be at least 8 characters long!
                    </mat-error>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Enter Password again</mat-label>
                    <input matInput [type]="hide ? 'password' : 'text'" [formControl]="confirmPasswordFormControl" minlength="8" #confirmPass required>
                    <button mat-icon-button type="button" matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <mat-error *ngIf="passwordFormControl.hasError('required')">
                        Please enter password again!
                    </mat-error>
                    <mat-error *ngIf="confirmPasswordFormControl.hasError('minlength')">
                        Password must be at least 8 characters long!
                    </mat-error>
                    <mat-hint id="hint-color" *ngIf="pass.value!==confirmPass.value && !confirmPasswordFormControl.hasError('required') && !confirmPasswordFormControl.hasError('minlength')">
                        Passwords must match!
                    </mat-hint>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Adress</mat-label>
                    <textarea matInput type="text" name="adress" #adress="ngModel" ngModel></textarea>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>City</mat-label>
                    <input matInput type="text" name="city" #city="ngModel" ngModel>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Postcode</mat-label>
                    <input matInput type="number" name="postcode" #postcode="ngModel" ngModel>
                </mat-form-field>
            </div>
            <div>
                <button mat-raised-button color="primary" type="submit">Signup</button>
            </div>
        </form>
    </mat-card>
    
</mat-card>
-->
<mat-card class="card">
    <mat-card-title>{{signupTitle}}</mat-card-title>
    <mat-card>
        <form #register = 'ngForm' ngForm (ngSubmit) = 'onSubmit(register)'>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Email</mat-label>
                    <input matInput name='email' email='true' type="email" required ngModel #email='ngModel'>
                    <div *ngIf="email.touched">
                        <mat-error>{{validateEmail(email)}}</mat-error>
                    </div>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Username</mat-label>
                    <input matInput name='username' type="text" required ngModel #username='ngModel'>
                    <div *ngIf="username.touched">
                        <mat-error>{{uniqueUsername(username)}}</mat-error>
                    </div>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Password</mat-label>
                    <input matInput name='password' [type]="hide1 ? 'password' : 'text'" minlength="8" ngModel #password='ngModel' required>
                    <button mat-icon-button type="button" matSuffix (click)="hide1 = !hide1" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide1">
                        <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <div *ngIf="password.touched">
                        <mat-error>{{validatePassword(password)}}</mat-error>
                    </div>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Enter Password again</mat-label>
                    <input matInput name='password2' [type]="hide2 ? 'password' : 'text'" minlength="8" ngModel #password2='ngModel' required>
                    <button mat-icon-button type="button" matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide2">
                        <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <div *ngIf="password2.touched">
                        <mat-error>{{comparePasswords(password, password2)}}</mat-error>
                    </div>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Adress</mat-label>
                    <input matInput type="text" name="adress" #adress="ngModel" ngModel>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>City</mat-label>
                    <input matInput type="text" name="city" #city="ngModel" ngModel>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Postcode</mat-label>
                    <input matInput type="number" name="postcode" #postcode="ngModel" ngModel>
                </mat-form-field>
            </div>
            <div>
                <button mat-raised-button color="primary" type="submit">Register</button>
            </div>
        </form>
    </mat-card>
</mat-card>
